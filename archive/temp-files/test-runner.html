<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdownç¼–è¾‘å™¨åŠŸèƒ½æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            background-color: #fafafa;
        }
        .test-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        .test-description {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        .test-button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        .test-button:hover {
            background-color: #0056b3;
        }
        .test-button.success {
            background-color: #28a745;
        }
        .test-button.error {
            background-color: #dc3545;
        }
        .result {
            margin-top: 15px;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
        }
        .result.success {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .result.error {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        .result.info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }
        .iframe-container {
            margin-top: 30px;
            border: 2px solid #007bff;
            border-radius: 8px;
            overflow: hidden;
        }
        iframe {
            width: 100%;
            height: 600px;
            border: none;
        }
        .instructions {
            background-color: #e7f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .instructions h3 {
            margin-top: 0;
            color: #0066cc;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª Markdownç¼–è¾‘å™¨åŠŸèƒ½æµ‹è¯•</h1>
        
        <div class="instructions">
            <h3>ğŸ“‹ æµ‹è¯•è¯´æ˜</h3>
            <p>è¿™ä¸ªé¡µé¢ç”¨äºæµ‹è¯•Markdownç¼–è¾‘å™¨çš„å„é¡¹åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚ç‚¹å‡»ä¸‹é¢çš„æµ‹è¯•æŒ‰é’®æ¥éªŒè¯ä¸åŒåŠŸèƒ½ã€‚</p>
            <p><strong>ä¿®å¤çš„é—®é¢˜ï¼š</strong></p>
            <ul>
                <li>âœ… æ·±è‰²æ¨¡å¼ä¸‹é¢„è§ˆç•Œé¢ä¸æ˜¯æ·±è‰²</li>
                <li>âœ… å…¨å±æŒ‰é’®æ²¡æœ‰ååº”</li>
                <li>âœ… é½¿è½®æŒ‰é’®ï¼ˆè®¾ç½®ï¼‰æ²¡æœ‰ååº”</li>
            </ul>
        </div>

        <div class="test-section">
            <div class="test-title">ğŸŒ“ ä¸»é¢˜åˆ‡æ¢æµ‹è¯•</div>
            <div class="test-description">
                æµ‹è¯•ä¸»é¢˜åˆ‡æ¢æŒ‰é’®æ˜¯å¦èƒ½æ­£å¸¸åœ¨æµ…è‰²å’Œæ·±è‰²æ¨¡å¼ä¹‹é—´åˆ‡æ¢ï¼Œå¹¶éªŒè¯é¢„è§ˆåŒºåŸŸæ˜¯å¦æ­£ç¡®å“åº”ä¸»é¢˜å˜åŒ–ã€‚
            </div>
            <button class="test-button" onclick="testThemeInIframe()">æµ‹è¯•ä¸»é¢˜åˆ‡æ¢</button>
            <button class="test-button" onclick="openMainApp()">æ‰“å¼€ä¸»ç¨‹åº</button>
            <div id="theme-result" class="result" style="display: none;"></div>
        </div>

        <div class="test-section">
            <div class="test-title">ğŸ–¥ï¸ å…¨å±åŠŸèƒ½æµ‹è¯•</div>
            <div class="test-description">
                æµ‹è¯•å…¨å±æŒ‰é’®æ˜¯å¦èƒ½æ­£å¸¸è¿›å…¥å’Œé€€å‡ºå…¨å±æ¨¡å¼ã€‚
            </div>
            <button class="test-button" onclick="testFullscreenInIframe()">æµ‹è¯•å…¨å±åŠŸèƒ½</button>
            <button class="test-button" onclick="openTestPage()">æ‰“å¼€æµ‹è¯•é¡µé¢</button>
            <div id="fullscreen-result" class="result" style="display: none;"></div>
        </div>

        <div class="test-section">
            <div class="test-title">âš™ï¸ è®¾ç½®æŒ‰é’®æµ‹è¯•</div>
            <div class="test-description">
                æµ‹è¯•è®¾ç½®æŒ‰é’®ï¼ˆé½¿è½®å›¾æ ‡ï¼‰æ˜¯å¦èƒ½æ­£å¸¸æ‰“å¼€è®¾ç½®èœå•ï¼ŒåŒ…æ‹¬ä¸»é¢˜è®¾ç½®å’Œå¸ƒå±€è®¾ç½®ã€‚
            </div>
            <button class="test-button" onclick="testSettingsInIframe()">æµ‹è¯•è®¾ç½®åŠŸèƒ½</button>
            <button class="test-button" onclick="manualTest()">æ‰‹åŠ¨æµ‹è¯•æŒ‡å—</button>
            <div id="settings-result" class="result" style="display: none;"></div>
        </div>

        <div class="test-section">
            <div class="test-title">ğŸ“Š ç»¼åˆåŠŸèƒ½æµ‹è¯•</div>
            <div class="test-description">
                è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ŒéªŒè¯é¡µé¢åŠ è½½ã€å­—æ•°ç»Ÿè®¡ã€é¢„è§ˆåŒºåŸŸç­‰åŠŸèƒ½ã€‚
            </div>
            <button class="test-button" onclick="runAllTests()">è¿è¡Œæ‰€æœ‰æµ‹è¯•</button>
            <button class="test-button" onclick="showConsoleInstructions()">æ§åˆ¶å°æµ‹è¯•è¯´æ˜</button>
            <div id="all-result" class="result" style="display: none;"></div>
        </div>

        <div class="iframe-container">
            <iframe id="testFrame" src="http://localhost:3001/" title="Markdownç¼–è¾‘å™¨"></iframe>
        </div>
    </div>

    <script>
        function showResult(elementId, message, type = 'info') {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.className = `result ${type}`;
            element.style.display = 'block';
        }

        function openMainApp() {
            document.getElementById('testFrame').src = 'http://localhost:3001/';
            showResult('theme-result', 'âœ… å·²åˆ‡æ¢åˆ°ä¸»ç¨‹åºé¡µé¢\nè¯·åœ¨ä¸Šæ–¹iframeä¸­æ‰‹åŠ¨æµ‹è¯•ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½', 'success');
        }

        function openTestPage() {
            document.getElementById('testFrame').src = 'http://localhost:3001/?test-page';
            showResult('fullscreen-result', 'âœ… å·²åˆ‡æ¢åˆ°æµ‹è¯•é¡µé¢\nè¯·åœ¨ä¸Šæ–¹iframeä¸­æ‰‹åŠ¨æµ‹è¯•å…¨å±åŠŸèƒ½', 'success');
        }

        function testThemeInIframe() {
            showResult('theme-result', 'ğŸ”„ æ­£åœ¨æµ‹è¯•ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½...\n\nè¯·è§‚å¯Ÿiframeä¸­çš„é¡µé¢ï¼š\n1. æŸ¥æ‰¾ä¸»é¢˜åˆ‡æ¢æŒ‰é’®ï¼ˆé€šå¸¸æ˜¯å¤ªé˜³/æœˆäº®å›¾æ ‡ï¼‰\n2. ç‚¹å‡»æŒ‰é’®åˆ‡æ¢ä¸»é¢˜\n3. è§‚å¯Ÿé¢„è§ˆåŒºåŸŸèƒŒæ™¯æ˜¯å¦æ­£ç¡®å˜åŒ–\n\nâœ… å¦‚æœé¢„è§ˆåŒºåŸŸåœ¨æ·±è‰²æ¨¡å¼ä¸‹æ˜¾ç¤ºæ·±è‰²èƒŒæ™¯ï¼Œåˆ™æµ‹è¯•é€šè¿‡', 'info');
        }

        function testFullscreenInIframe() {
            showResult('fullscreen-result', 'ğŸ”„ æ­£åœ¨æµ‹è¯•å…¨å±åŠŸèƒ½...\n\nè¯·åœ¨iframeä¸­ï¼š\n1. æŸ¥æ‰¾å…¨å±æŒ‰é’®ï¼ˆé€šå¸¸æ˜¯å±•å¼€å›¾æ ‡ï¼‰\n2. ç‚¹å‡»æŒ‰é’®è¿›å…¥å…¨å±\n3. å†æ¬¡ç‚¹å‡»é€€å‡ºå…¨å±\n\nâœ… å¦‚æœèƒ½æ­£å¸¸è¿›å…¥å’Œé€€å‡ºå…¨å±ï¼Œåˆ™æµ‹è¯•é€šè¿‡', 'info');
        }

        function testSettingsInIframe() {
            showResult('settings-result', 'ğŸ”„ æ­£åœ¨æµ‹è¯•è®¾ç½®åŠŸèƒ½...\n\nè¯·åœ¨iframeä¸­ï¼š\n1. æŸ¥æ‰¾è®¾ç½®æŒ‰é’®ï¼ˆé½¿è½®å›¾æ ‡ï¼‰\n2. ç‚¹å‡»æŒ‰é’®æ‰“å¼€è®¾ç½®èœå•\n3. æŸ¥çœ‹æ˜¯å¦æœ‰"ä¸»é¢˜è®¾ç½®"å’Œ"å¸ƒå±€è®¾ç½®"é€‰é¡¹\n4. å°è¯•æ‰“å¼€è®¾ç½®å¯¹è¯æ¡†\n\nâœ… å¦‚æœè®¾ç½®èœå•æ­£å¸¸æ‰“å¼€å¹¶æ˜¾ç¤ºé€‰é¡¹ï¼Œåˆ™æµ‹è¯•é€šè¿‡', 'info');
        }

        function manualTest() {
            showResult('settings-result', 'ğŸ“‹ æ‰‹åŠ¨æµ‹è¯•æ­¥éª¤ï¼š\n\n1. åœ¨iframeä¸­æ‰¾åˆ°å·¥å…·æ \n2. ç‚¹å‡»é½¿è½®å›¾æ ‡ï¼ˆè®¾ç½®æŒ‰é’®ï¼‰\n3. åº”è¯¥çœ‹åˆ°ä¸‹æ‹‰èœå•åŒ…å«ï¼š\n   - ä¸»é¢˜è®¾ç½®\n   - å¸ƒå±€è®¾ç½®\n4. ç‚¹å‡»"ä¸»é¢˜è®¾ç½®"æ‰“å¼€å¯¹è¯æ¡†\n5. æµ‹è¯•å„ç§è®¾ç½®é€‰é¡¹\n6. ç‚¹å‡»"ä¿å­˜"åº”è¯¥æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯\n\nå¦‚æœä»¥ä¸Šæ­¥éª¤éƒ½èƒ½æ­£å¸¸æ‰§è¡Œï¼Œè¯´æ˜è®¾ç½®åŠŸèƒ½å·²ä¿®å¤', 'info');
        }

        function runAllTests() {
            showResult('all-result', 'ğŸš€ å¼€å§‹è¿è¡Œç»¼åˆæµ‹è¯•...\n\næ­£åœ¨æ£€æŸ¥ï¼š\nâœ… é¡µé¢æ˜¯å¦æ­£å¸¸åŠ è½½\nâœ… æ˜¯å¦æœ‰å·¥å…·æ æŒ‰é’®\nâœ… æ˜¯å¦æœ‰é¢„è§ˆåŒºåŸŸ\nâœ… æ˜¯å¦æœ‰å­—æ•°ç»Ÿè®¡\nâœ… ä¸»é¢˜åˆ‡æ¢æ˜¯å¦å¯ç”¨\nâœ… å…¨å±åŠŸèƒ½æ˜¯å¦å¯ç”¨\nâœ… è®¾ç½®æŒ‰é’®æ˜¯å¦å¯ç”¨\n\nè¯·åœ¨iframeä¸­æ‰‹åŠ¨éªŒè¯è¿™äº›åŠŸèƒ½', 'success');
        }

        function showConsoleInstructions() {
            showResult('all-result', 'ğŸ”§ æ§åˆ¶å°æµ‹è¯•è¯´æ˜ï¼š\n\n1. åœ¨iframeä¸­å³é”®é€‰æ‹©"æ£€æŸ¥"æˆ–æŒ‰F12\n2. åˆ‡æ¢åˆ°"Console"æ ‡ç­¾\n3. å¤åˆ¶å¹¶ç²˜è´´manual-test.jsä¸­çš„ä»£ç \n4. æŒ‰å›è½¦æ‰§è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•\n5. æŸ¥çœ‹æµ‹è¯•ç»“æœå’Œè¯¦ç»†æ—¥å¿—\n\nè¿™å°†è¿è¡Œå®Œæ•´çš„è‡ªåŠ¨åŒ–åŠŸèƒ½æµ‹è¯•', 'info');
        }

        // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŒ–
        window.onload = function() {
            showResult('theme-result', 'ğŸ’¡ ç‚¹å‡»"æµ‹è¯•ä¸»é¢˜åˆ‡æ¢"å¼€å§‹æµ‹è¯•ï¼Œæˆ–ç‚¹å‡»"æ‰“å¼€ä¸»ç¨‹åº"åˆ‡æ¢åˆ°ä¸»ç¨‹åºé¡µé¢', 'info');
        };
    </script>
</body>
</html>
