# 单行工具栏编辑器功能测试指南

## 概述

这个文档描述了如何测试单行工具栏Markdown编辑器的各项功能，确保工具栏按钮与编辑器正确联动。

## 访问方式

打开浏览器访问：`http://localhost:3002/?single-row`

## 功能测试清单

### 1. 格式化工具测试

#### 粗体功能
- **测试步骤**：
  1. 在编辑器中输入一些文本
  2. 选中文本
  3. 点击工具栏中的粗体按钮（B）
- **期望结果**：选中的文本被 `**` 包围
- **无选中文本**：点击按钮会插入 `****` 并将光标定位在中间

#### 斜体功能
- **测试步骤**：
  1. 选中文本或将光标定位
  2. 点击斜体按钮（I）
- **期望结果**：文本被 `*` 包围或插入 `**`

#### 引用功能
- **测试步骤**：
  1. 选中一行或多行文本
  2. 点击引用按钮
- **期望结果**：每行前面添加 `> `

#### 代码功能
- **测试步骤**：
  1. 选中文本
  2. 点击代码按钮
- **期望结果**：
  - 单行文本：被 `` ` `` 包围
  - 多行文本：被 ``` 代码块包围

#### 链接功能
- **测试步骤**：
  1. 选中文本（可选）
  2. 点击链接按钮
- **期望结果**：插入 `[文本](url)` 格式

#### 图片功能
- **测试步骤**：
  1. 点击图片按钮
- **期望结果**：插入 `![图片描述](图片url)` 格式

#### 列表功能
- **无序列表**：
  1. 选中文本或将光标定位
  2. 点击无序列表按钮
  3. 期望结果：每行前添加 `- `

- **有序列表**：
  1. 选中文本或将光标定位
  2. 点击有序列表按钮
  3. 期望结果：每行前添加 `1. `, `2. ` 等

#### 表格功能
- **测试步骤**：
  1. 点击表格按钮
- **期望结果**：插入标准Markdown表格格式

### 2. 标题工具测试

#### H1, H2, H3 按钮
- **测试步骤**：
  1. 选中文本或将光标定位
  2. 点击对应的标题按钮
- **期望结果**：
  - H1：插入 `# 文本`
  - H2：插入 `## 文本`
  - H3：插入 `### 文本`

### 3. 标题样式功能测试

#### 样式选择器
- **测试步骤**：
  1. 在编辑器中输入一些标题（# 标题1, ## 标题2, ### 标题3）
  2. 在预览区域右上角找到"标题样式"下拉菜单
  3. 依次选择不同的样式选项
- **期望结果**：预览区域的标题样式实时改变
- **可用样式**：
  - 默认样式
  - 下划线样式
  - 边框样式
  - 渐变样式
  - 现代样式
  - 优雅样式

### 4. 导出功能测试

#### 导出菜单
- **测试步骤**：
  1. 在编辑器中输入一些内容
  2. 点击工具栏右侧的下载按钮
  3. 选择不同的导出格式
- **期望结果**：
  - Markdown：下载 .md 文件
  - JSON：下载包含内容和时间戳的 .json 文件
  - HTML 和 PDF：显示相应的处理信息

### 5. 主题切换测试

#### 明暗主题切换
- **测试步骤**：
  1. 点击工具栏右侧的主题切换按钮（太阳/月亮图标）
- **期望结果**：
  - 整个界面在明暗主题间切换
  - 编辑器和预览区域的颜色相应改变
  - 按钮图标在太阳和月亮间切换

### 6. 全屏功能测试

#### 全屏模式
- **测试步骤**：
  1. 点击全屏按钮（展开图标）
- **期望结果**：
  - 编辑器占满整个屏幕
  - 按钮图标变为收缩图标
  - 再次点击退出全屏

### 7. 字数统计测试

#### 实时统计
- **测试步骤**：
  1. 在编辑器中输入文本
  2. 观察工具栏中间的字数统计区域
- **期望结果**：
  - 字数、字符数实时更新
  - 阅读时间根据字数计算（约200字/分钟）

### 8. 分屏调整测试

#### 拖拽调整
- **测试步骤**：
  1. 将鼠标悬停在编辑器和预览区域之间的分隔条上
  2. 鼠标变为调整大小光标时，拖拽分隔条
- **期望结果**：
  - 编辑器和预览区域的宽度比例实时调整
  - 分隔条有悬停效果

## 常见问题排查

### 工具栏按钮无响应
1. 检查浏览器控制台是否有错误
2. 确认编辑器已正确加载
3. 尝试刷新页面

### 格式化不生效
1. 确认光标在编辑器内
2. 检查是否有文本选中
3. 验证Markdown语法是否正确

### 主题切换无效
1. 检查ThemeContext是否正确配置
2. 确认CSS样式文件已加载

### 标题样式不显示
1. 确认Material-UI主题提供者已配置
2. 检查CustomHeadingStyles组件是否正确导入

## 性能测试

### 大文件处理
- 测试输入大量文本时的响应速度
- 检查实时预览的性能表现
- 验证字数统计的准确性

### 内存使用
- 长时间使用后检查内存占用
- 测试频繁切换主题和样式的稳定性

## 浏览器兼容性

建议在以下浏览器中测试：
- Chrome (最新版本)
- Firefox (最新版本)
- Safari (最新版本)
- Edge (最新版本)

## 移动端测试

在移动设备上测试：
- 响应式布局
- 触摸操作
- 虚拟键盘适配
